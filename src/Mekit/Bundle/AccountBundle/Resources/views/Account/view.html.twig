{% extends 'OroUIBundle:actions:view.html.twig' %}

{% oro_title_set({params : {"%account.name%": entity.name|default('N/A')} }) %}

{% block navButtons %}
	{% if resource_granted('EDIT', entity) %}
		{{ UI.editButton({
		'path': path('mekit_account_update', {'id': entity.id}),
		'entity_label': 'mekit.account.entity_label'|trans
		}) }}
	{% endif %}

	{#{% if resource_granted('DELETE', entity) %}#}
		{#{{ UI.deleteButton({#}
		{#'dataUrl': path('mekit_api_delete_account', {'id': entity.id}),#}
		{#'dataRedirect': path('mekit_account_index'),#}
		{#'aCss': 'no-hash remove-button',#}
		{#'dataId': entity.id,#}
		{#'id': 'btn-remove-account',#}
		{#'entity_label': 'mekit.account.entity_label'|trans#}
		{#}) }}#}
	{#{% endif %}#}


	{#{% set html %}#}
	{#{% placeholder orocrm_account_action_dropdown with {'entity': entity} %}#}
	{#{% endset %}#}
	{#{{ UI.dropdownButton({#}
	{#'label': 'orocrm.account.account_actions'|trans,#}
	{#'aCss': 'pull-right',#}
	{#'html': html#}
	{#}) }}#}

{% endblock navButtons %}

{% block pageHeader %}
	{% set breadcrumbs = {
	'entity': entity,
	'indexPath': path('mekit_account_index'),
	'indexLabel': 'mekit.account.entity_plural_label'|trans,
	'entityTitle': entity.name|default('N/A')
	} %}
	{{ parent() }}
{% endblock pageHeader %}


{% block content_data %}
	{% set accountInformationWidget %}
		{{ oro_widget_render({
		'widgetType': 'block',
		'title': 'mekit.account.widgets.account_information'|trans,
		'url': path('mekit_account_widget_info', {id: entity.id})
		}) }}
	{% endset %}

	{% set generalSectionBlocks = [{'data' : [accountInformationWidget]}]%}



	{% set dataBlocks = [
		{
		'title': 'mekit.account.sections.general'|trans,
		'class': 'active',
		'subblocks': generalSectionBlocks
		}
	] %}

	{% set id = 'accountView' %}
	{% set data = {'dataBlocks': dataBlocks} %}

	{{ parent() }}
{% endblock content_data %}
